<!DOCTYPE HTML>  
<html lang="en">  
<head>  
    <meta charset="utf-8">  
    <title>ImageProcJS</title>  
    <script type="text/javascript" src="color.js"></script>  
    <script type="text/javascript" src="image.js"></script>  
    <script type="text/javascript" src="filter.js"></script>  
    <script type="text/javascript" src="imageloader.js"></script>  
    <script type="text/javascript" src="utils.js"></script>  
    <script>  
        var context, canvas;  
        var loader;  
        window.onload = function() {  
            <span style="white-space:pre;">     </span>loader = new ImageLoader();  
            canvas = document.getElementById('cvs');  
            context = canvas.getContext('2d');  
              
            document.getElementById('show_btn').onclick = function() {  
                <span style="white-space:pre;">     </span>loader.loadImage('seal.jpg', canvas);  
            };  
              
            document.getElementById('gs_btn').onclick = function() {  
                <span style="white-space:pre;">     </span>var I = loader.result;  
                I = filters.grayscale(I);  
                I.render(canvas);  
            }  
              
            document.getElementById('files').addEventListener('change',   
            function( e ){  
                handleFileSelect(e, loader, canvas);  
            },   
            false);  
        }         
          
    </script>  
</head>  
<body>  
<button id="show_btn">Show Remote Image</button>  
<button id="gs_btn">Show Grayscale</button>  
Upload image:  
<input type="file" id="files" name="files[]" />  
<output id="list"></output>  
  
<p id='imageinfo'></p>  
<canvas id="cvs"></canvas>  
</body>  
</html>  